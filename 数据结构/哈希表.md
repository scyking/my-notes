# 哈希表

标签（空格分隔）： 数据结构

---

[toc]

## 定义
> 将一组关键字映射到一个有限的连续地址集上，这种映射结构就是哈希表，存储位置称为哈希地址。

## 哈希冲突（哈希碰撞）
> 不同的关键字映射到相同的哈希地址上，产生哈希冲突。

- 为减少哈希冲突，哈希函数具有的特点：
    1. 尽量使关键字均匀映射到哈希表里面。
    2. 关键字极小的变化可以引起哈希值极大的变化。

- 常用哈希函数，`Time33`算法：
    ```
    // 对字符串的每个字符，迭代的乘以33
    hash(i) = hash(i-1) * 33 + str[i]
    ```

## 哈希冲突解决办法

### **开放定址法**
```
Hi = (H(key) + di) MOD m , （i = 1,2,3,...,k） (k <= m-1)
```
PS:`H(key)`为哈希函数，`m`为哈希表长度，`di`为增量序列。这种方法有容量限制，空间不足则无法插入数据。

- 增量序列取值方式
    1. 线性探测再散列：`di = 1,2,3,...,m-1`
    2. 二次探测再散列：`di = 1²,-1²,2²,-2²，...,±k²（k <= m/2）`
    3. 随机探测再散列：`di = 随机数 `

### 再哈希法
```
Hi = RHi(key), （i = 1,2,3,...,k）
```
PS：`RHi(key)`都是不同的哈希函数，对产生地址冲突的关键字再次进行哈希计算，获取另一个哈希地址，直到不再产生冲突。这种方法不易产生“二次聚集”，但是增加计算的时间。

### **链地址法**
> 每个哈希地址对应的一个线性表，将地址相同的记录按序写入链表。
> 为提高链表查询效率，会使用跳表或者红黑树。

### 建立公共溢出区
> 在创建哈希表时，同时创建另一个表，将所有发生哈希冲突的记录都存储到溢出表。

